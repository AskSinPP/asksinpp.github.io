(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{414:function(e,t,n){"use strict";n.r(t);var r=n(59),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"hm-sec-mdir"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#hm-sec-mdir"}},[e._v("#")]),e._v(" HM-SEC-MDIR")]),e._v(" "),r("p",[e._v("Nachbau eines HM-Sec-MDIR Bewegungsmelder mit AM312 PIR und der Platine HB-UNI-Bat von Ronny.")]),e._v(" "),r("p",[e._v("Da der PIR nur mit 3 Leitungen verdrahtet wird eignen sich auch andere\n"),r("RouterLink",{attrs:{to:"/Platinen/"}},[e._v("Platinen")]),e._v(" für einen Aufbau."),r("br"),e._v("\nAlternativ können auch die Sensoren HC-SR501 und HC-SR505 verwendet werden allerdings sind hier weitere\nSchritte nötig um die Betriebsspannung mit 3.3V zu ermöglichen und ggf. ein 220nF Kondensator um false-positives zu vermeiden.")],1),e._v(" "),r("p",[r("img",{attrs:{src:n(510),alt:"HM-SEC-MDIR"}})]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://homematic-forum.de/forum/viewtopic.php?f=76&t=44118&p=458066&hilit=HM+SEC+MDIR",target:"_blank",rel:"noopener noreferrer"}},[e._v("Forum Thread"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.thingiverse.com/thing:3295975",target:"_blank",rel:"noopener noreferrer"}},[e._v("Alternative"),r("OutboundLink")],1),e._v(" mit UNI Platine von Ronny und HC-SR501 für Netzbetrieb")])]),e._v(" "),r("h2",{attrs:{id:"hardware"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#hardware"}},[e._v("#")]),e._v(" Hardware")]),e._v(" "),r("ul",[r("li",[e._v("Arduino Pro Mini 8Mhz 3.3V")]),e._v(" "),r("li",[e._v("CC1101 Funkmodul")]),e._v(" "),r("li",[e._v("Taster 6x6")]),e._v(" "),r("li",[e._v("LED 5mm")]),e._v(" "),r("li",[e._v("100-330 Ohm Widerstand, je nach LED")]),e._v(" "),r("li",[e._v("AM312")]),e._v(" "),r("li",[e._v("2x Batteriehalter AA")]),e._v(" "),r("li",[e._v("1 Gehäuse aus dem 3D Drucker, es gibt einen Deckel für HC-SR501 und einen für AM312 sowie 2 Wand Adapter und das Grundgehäuse")]),e._v(" "),r("li",[e._v("2x M4 Schrauben und 2x M4 Muttern")]),e._v(" "),r("li",[e._v("0.6mm Klingeldraht oder Stiftleiste mit RM 2.0")])]),e._v(" "),r("h2",{attrs:{id:"platine"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#platine"}},[e._v("#")]),e._v(" Platine")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/ronnythomas/HB-UNI-Bat",target:"_blank",rel:"noopener noreferrer"}},[e._v("HB-UNI-Bat"),r("OutboundLink")],1),e._v(" von Ronny")])]),e._v(" "),r("p",[r("img",{attrs:{src:n(511),alt:"HB-UNI-Bat"}})]),e._v(" "),r("h2",{attrs:{id:"schaltplan"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#schaltplan"}},[e._v("#")]),e._v(" Schaltplan")]),e._v(" "),r("p",[r("img",{attrs:{src:n(512),alt:"Verdrahtung"}})]),e._v(" "),r("h2",{attrs:{id:"aufbau"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#aufbau"}},[e._v("#")]),e._v(" Aufbau")]),e._v(" "),r("ul",[r("li",[e._v("Damit es bei abfallender Batteriespannung zu keinem Dauersender kommt wird die BOD über die Fuse-Bits des Arduino deaktiviert, siehe "),r("RouterLink",{attrs:{to:"/Grundlagen/FAQ/babbling_idiot.html"}},[e._v("Babbling Idiot")]),e._v(". Am besten setzt man die Fuses direkt nach dem einlöten der Stiftleiste da man diese zum Anschluss des IPS über Jumperwires nutzen kann.")],1),e._v(" "),r("li",[e._v("Die LEDs und den LDO des Arduino entfernen, siehe "),r("RouterLink",{attrs:{to:"/Grundlagen/01_hardware.html#batteriebetrieb"}},[e._v("Batteriebetrieb")])],1),e._v(" "),r("li",[e._v("Auf der Platine zuerst die Widerstände und die LED sowie Taster einlöten, erst dann den Arduino einlöten.")]),e._v(" "),r("li",[e._v("Bei Funkmodul passen keine normalen Platinen Pins mit 2,56mm, deshalb nehme ich einzelne CU Drähte 0,6 mm. Diesen Draht bekommt man im jedem Baumarkt einfach in der Elektroabteilung nach „Klingeldraht“ fragen. Alternativ nutzt kan eine Stiftleiste mit Rastermaß von 2.0mm.")]),e._v(" "),r("li",[e._v("Generell sind alle Lötstellen auf „kalte Lötstellen“ zu prüfen, am besten geht das mit einer Lupe oder ein USB Mikroskop.")])]),e._v(" "),r("p",[r("img",{attrs:{src:n(513),alt:"Platine bestückt"}})]),e._v(" "),r("ul",[r("li",[e._v("Für die Antenne kann ebenfalls der 0.6 mm Klingeldraht verwendet werden. Die Länge des Drahtes für die Antenne sollte 8,3mm sein. Der Antennendraht kann durch ein Loch in der Platine auf die Rückseite der Platine „versteckt“ werden.")]),e._v(" "),r("li",[e._v("Wichtig ist, dass die Platine + Batteriehalter nicht breiter als 64 mm ist da sie sonst nicht in das Gehäuse passen.")])]),e._v(" "),r("p",[r("img",{attrs:{src:n(514),alt:"Platine Breite"}})]),e._v(" "),r("ul",[r("li",[e._v("Der AM 312 hat "),r("code",[e._v("VCC")]),e._v(", "),r("code",[e._v("GND")]),e._v(" und "),r("code",[e._v("OUT")]),e._v(" wobei "),r("code",[e._v("OUT")]),e._v(" mit PIN "),r("code",[e._v("A0")]),e._v(" auf der Platine verbunden wird.")])]),e._v(" "),r("p",[r("img",{attrs:{src:n(515),alt:"am 312 pinout"}})]),e._v(" "),r("h2",{attrs:{id:"gehause"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gehause"}},[e._v("#")]),e._v(" Gehäuse")]),e._v(" "),r("p",[e._v("Link zum STL Dateien auf "),r("a",{attrs:{href:"https://www.thingiverse.com/thing:3227731",target:"_blank",rel:"noopener noreferrer"}},[e._v("Thingiverse"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Wird ein Wanderadapter verwendet muss zuerst die M4 Mutter auf der Rückseite eingepresst werden. Dann wird der Wandadapter an die Position an der Wand/Ecke angebracht.")]),e._v(" "),r("p",[r("img",{attrs:{src:n(516),alt:"Schraube Wandadapter"}})]),e._v(" "),r("p",[e._v("Der AM312 Sensor kann für die Montage in den Deckel zerlegt werden und dann von Deckelinnenseite mit Heißkleber fixiert werden")]),e._v(" "),r("p",[r("img",{attrs:{src:n(517),alt:"AM312 zerlegt"}})]),e._v(" "),r("p",[e._v("Montage der Platine im Gehäuse. Bei Verwendung der Wandadapter muss das Gehäuse mit den zwei M4 Senkschrauben an den Adapter geschraubt werden, alternativ geht hier auch kleben. Das Gehäuse hat auf der linken Seite eine Verdeckte Kante in die wird die Platine schräg herein geschoben (Schwarzer Pfeil) und dann auf der rechten Seite nach unten gedrückt (Roter Pfeil).")]),e._v(" "),r("p",[r("img",{attrs:{src:n(518),alt:"Platine im Gehäuse"}})]),e._v(" "),r("h2",{attrs:{id:"sketch"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#sketch"}},[e._v("#")]),e._v(" Sketch")]),e._v(" "),r("p",[e._v("Als Sketch kommt "),r("a",{attrs:{href:"https://github.com/pa-pa/AskSinPP/blob/master/examples/HM-SEC-MDIR/HM-SEC-MDIR.ino",target:"_blank",rel:"noopener noreferrer"}},[e._v("HM-SEC-MDIR.ino"),r("OutboundLink")],1),e._v(" von pa-pa zum Einsatz. Wie immer dran denken die Serial und ID zu ändern.")]),e._v(" "),r("h2",{attrs:{id:"anlernen-an-der-ccu"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#anlernen-an-der-ccu"}},[e._v("#")]),e._v(" Anlernen an der CCU")]),e._v(" "),r("p",[e._v("Der Sensor wird über einen kurzen Tastendruck in den Anlernmodus gebracht.")]),e._v(" "),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[e._v("Wenn der Sensor angelernt ist, muss in der CCU der Übertragungsmodus auf "),r("strong",[e._v("„Standard“")]),e._v(" gesetzt werden. Sonst wird keine Bewegung erkannt. Siehe "),r("RouterLink",{attrs:{to:"/Grundlagen/03_ccu.html#anlernen-an-die-ccu"}},[e._v("Anlernen an die CCU")])],1)]),e._v(" "),r("p",[r("img",{attrs:{src:n(519),alt:"ccu aktor"}})]),e._v(" "),r("blockquote",[r("p",[e._v("Solltest du Anmerkungen oder Probleme mit dem Nachbau haben, lasst es "),r("a",{attrs:{href:"mailto:asppc@psi.cx"}},[e._v("uns")]),e._v(" bitte wissen damit dieses Projekt verbessert werden kann.")])])])}),[],!1,null,null,null);t.default=a.exports},510:function(e,t,n){e.exports=n.p+"assets/img/case.22aa6630.jpg"},511:function(e,t,n){e.exports=n.p+"assets/img/platine1.ed6035e4.jpg"},512:function(e,t,n){e.exports=n.p+"assets/img/verdrahtung.4cb09f32.jpg"},513:function(e,t,n){e.exports=n.p+"assets/img/platine2.1cc67900.jpg"},514:function(e,t,n){e.exports=n.p+"assets/img/platine3.79327496.jpg"},515:function(e,t,n){e.exports=n.p+"assets/img/pir-pinout.863d8e22.jpg"},516:function(e,t,n){e.exports=n.p+"assets/img/case-schraube.393ab8d7.jpg"},517:function(e,t,n){e.exports=n.p+"assets/img/pir.4482dcb3.jpg"},518:function(e,t,n){e.exports=n.p+"assets/img/platine-im-case.fffe3487.jpg"},519:function(e,t,n){e.exports=n.p+"assets/img/ccu-aktor.9e12f596.jpg"}}]);