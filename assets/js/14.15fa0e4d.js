(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{452:function(e,t,r){"use strict";r.r(t);var n=r(60),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"hm-wds40-th-i-bme280"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hm-wds40-th-i-bme280"}},[e._v("#")]),e._v(" HM-WDS40-TH-I-BME280")]),e._v(" "),n("p",[e._v("Temperatur-/Luftfeuchtesensor auf Basis des Bosch BME280.")]),e._v(" "),n("p",[n("img",{attrs:{src:r(542),alt:"BME280 auf HB-UNI-Bat PCB"}})]),e._v(" "),n("p",[e._v("Der BME280 unterst√ºzt eigentlich auch die Erfassung des Luftdrucks, allerdings m√ºsste daf√ºr ein DeviceAddon auf der CCU installiert werden\nweshalb dies nicht Teil dieses Projekts ist. Der\n"),n("a",{attrs:{href:"https://github.com/TomMajor/AskSinPP_Examples/tree/master/HB-UNI-Sensor1",target:"_blank",rel:"noopener noreferrer"}},[e._v("HB-UNI-Sensor1"),n("OutboundLink")],1),e._v("\nvon Tom ist eine gutes Beispiel f√ºr einen universell einsetzbaren Sensor.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("M√∂chte man den Temperatursensor an einen HM-CC-RT-DN Heizk√∂rperthermostat anlernen,\nben√∂tigt man genauere Timings und muss auf einen externen Taktgeber zur√ºckgreifen.")]),e._v(" "),n("p",[e._v("Das "),n("RouterLink",{attrs:{to:"/Projekte/psi/HMSensor/HM-WDS40-TH-I-RTC-BME280.html"}},[e._v("HMSensor WDS40-RTC")]),e._v(" Projekt kann mit einem 32kHz Oszillator best√ºckt werden.")],1)]),e._v(" "),n("h2",{attrs:{id:"hardware"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hardware"}},[e._v("#")]),e._v(" Hardware")]),e._v(" "),n("ul",[n("li",[e._v("Arduino Pro Mini 8Mhz 3.3V")]),e._v(" "),n("li",[e._v("CC1101 Funkmodul")]),e._v(" "),n("li",[e._v("Taster 6x6")]),e._v(" "),n("li",[e._v("Led 5mm")]),e._v(" "),n("li",[e._v("100Œ© Widerstand")]),e._v(" "),n("li",[e._v("BME280 I2C Breakout Board (kein SPI)")]),e._v(" "),n("li",[e._v("Batteriehalter")])]),e._v(" "),n("p",[e._v("Es gibt BME280 Boards f√ºr 3.3V ohne LDO was etwas Arbeit spart.")]),e._v(" "),n("h3",{attrs:{id:"platine"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#platine"}},[e._v("#")]),e._v(" Platine")]),e._v(" "),n("p",[e._v("Je nach Zweck gibt es hier verschiedene Optionen:")]),e._v(" "),n("ul",[n("li",[e._v("Keine üòÉ")]),e._v(" "),n("li",[n("RouterLink",{attrs:{to:"/Projekte/psi/HMSensor/HM-WDS40-TH-I-RTC-BME280.html"}},[e._v("HMSensor von pa-pa")])],1),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/alexreinert/PCB#hb-uni-sen-batt",target:"_blank",rel:"noopener noreferrer"}},[e._v("HB-UNI-SEN-BATT von Alex"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/TomMajor/SmartHome/tree/master/PCB",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sensor_PLHT von Tom"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/ronnythomas/HB-UNI-Bat",target:"_blank",rel:"noopener noreferrer"}},[e._v("HB-UNI-Bat von Ronny"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/ronnythomas/HB-Micro",target:"_blank",rel:"noopener noreferrer"}},[e._v("HB-Micro von Ronny"),n("OutboundLink")],1)])]),e._v(" "),n("p",[e._v("In diesem Beispiel wird die HB-UNI-Bat von Ronny verwendet.")]),e._v(" "),n("h3",{attrs:{id:"babbling-idiot"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#babbling-idiot"}},[e._v("#")]),e._v(" Babbling Idiot")]),e._v(" "),n("p",[e._v("Damit es bei abfallender Battriespannung zu keinem Dauersenden kommt, wird die BOD √ºber die Fuse-Bits des Arduino deaktiviert,\nsiehe "),n("RouterLink",{attrs:{to:"/Grundlagen/FAQ/babbling_idiot.html"}},[e._v("Babbling Idiot")]),e._v(".\nAm besten setzt man die Fuses direkt nach Einl√∂ten der Stiftleiste, da man diese zum Anschluss des ISP √ºber\nJumperwires nutzen kann.")],1),e._v(" "),n("h3",{attrs:{id:"stromverbrauch-optimieren"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#stromverbrauch-optimieren"}},[e._v("#")]),e._v(" Stromverbrauch optimieren")]),e._v(" "),n("p",[e._v("Der Ruhestrom kann drastisch gesenkt werden:")]),e._v(" "),n("ul",[n("li",[e._v("LDO und LEDs vom Arduino entfernen, siehe "),n("RouterLink",{attrs:{to:"/Grundlagen/01_hardware.html#batteriebetrieb"}},[e._v("Batteriebetrieb")])],1),e._v(" "),n("li",[e._v("LDO vom BME280 Board entfernen, siehe "),n("a",{attrs:{href:"https://github.com/TomMajor/AskSinPP_Examples/tree/master/Info/Ruhestrom",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ruhestrom von Tom"),n("OutboundLink")],1),e._v(". Dieser Punkt entf√§llt f√ºr die 3.3V Versionen des BME280-Boards.")])]),e._v(" "),n("p",[n("img",{attrs:{src:r(543),alt:"BME280 LDO removed"}}),n("br"),e._v("\nIm Bild zu sehen: Der LDO ist entfernt und eine L√∂tbr√ºcke wurde am Level-Shifter gesetzt.")]),e._v(" "),n("p",[e._v("Statt die L√∂tbr√ºcke am Level-Shifter zu setzen, kann man aber auch den "),n("a",{attrs:{href:"https://it-net.blog/?p=148&lang=en",target:"_blank",rel:"noopener noreferrer"}},[e._v("ausgel√∂teten LDO √ºberbr√ºcken"),n("OutboundLink")],1),e._v(", d.h. das 5V- mit dem 3.3V-Pad verbinden.")]),e._v(" "),n("h3",{attrs:{id:"aufbau"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aufbau"}},[e._v("#")]),e._v(" Aufbau")]),e._v(" "),n("p",[e._v("Der Aufbau gestaltet sich simpel: Wie gew√∂hnlich wird der CC1101, die Status-LED und der Taster nach der "),n("RouterLink",{attrs:{to:"/Grundlagen/01_hardware.html#verdrahtung"}},[e._v("allgemein g√ºltigen Verdrahtung")]),e._v(" angeschlossen bzw. anhand der gew√§hlten Platine best√ºckt.")],1),e._v(" "),n("p",[e._v("Die vier Anschl√ºsse des BME280-Boards:")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("VIN")]),e._v(": 3V Betriebsspannung, kann vom VCC PIN des Arduino genommen werden.")]),e._v(" "),n("li",[n("code",[e._v("GND")])]),e._v(" "),n("li",[n("code",[e._v("SCL")]),e._v(": I2C Taktleitung, wird an PIN "),n("code",[e._v("A5")]),e._v(" des Arduino angeschlossen.")]),e._v(" "),n("li",[n("code",[e._v("SDA")]),e._v(": I2C Datenleitung, wird an PIN "),n("code",[e._v("AA")]),e._v(" des Arduino angeschlossen.")])]),e._v(" "),n("p",[e._v("Einige Platinen bieten entsprechende L√∂tpunkt an, wodurch der BME280 direkt per Stiftleiste aufgel√∂tet werden kann.")]),e._v(" "),n("p",[n("img",{attrs:{src:r(544),alt:"Verdrahtung"}})]),e._v(" "),n("h2",{attrs:{id:"gehause"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gehause"}},[e._v("#")]),e._v(" Geh√§use")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.thingiverse.com/thing:3184336",target:"_blank",rel:"noopener noreferrer"}},[e._v("HM-WDS40-TH-I"),n("OutboundLink")],1),e._v(" von Jan")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://www.thingiverse.com/thing:3028730",target:"_blank",rel:"noopener noreferrer"}},[e._v("HB-UNI-SENS-BATT-Case"),n("OutboundLink")],1),e._v(" (Schiebedeckel) von Christoph S.")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://www.thingiverse.com/thing:3239446",target:"_blank",rel:"noopener noreferrer"}},[e._v("HB-UNI-SENS-BATT Platine"),n("OutboundLink")],1),e._v(" (verschraubbarer Deckel) von Christoph S.")])]),e._v(" "),n("p",[n("img",{attrs:{src:r(545),alt:"Case Jan"}})]),e._v(" "),n("h2",{attrs:{id:"sketch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sketch"}},[e._v("#")]),e._v(" Sketch")]),e._v(" "),n("p",[e._v("Als Sketch kommt "),n("a",{attrs:{href:"https://github.com/jp112sdl/Beispiel_AskSinPP/blob/master/examples/HM-WDS40-TH-I-BME280/HM-WDS40-TH-I-BME280.ino",target:"_blank",rel:"noopener noreferrer"}},[e._v("HM-WDS40-TH-I-BME280"),n("OutboundLink")],1),e._v("\nvon J√©r√¥me zum Einsatz. Wie immer dran denken die "),n("RouterLink",{attrs:{to:"/Grundlagen/02_software.html#sketch-anpassen-und-flashen"}},[e._v("Serial und ID zu √§ndern")]),e._v(".")],1),e._v(" "),n("p",[e._v("Zus√§tzlich zu den √ºblichen Bibliotheken (AskSinPP, EnableInterrupt, Low-Power) ben√∂tigt man noch die\n"),n("a",{attrs:{href:"https://github.com/finitespace/BME280",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lib f√ºr den BME280"),n("OutboundLink")],1),e._v(".\nAllerdings hatte ich hier noch einen "),n("a",{attrs:{href:"https://github.com/finitespace/BME280/issues/17",target:"_blank",rel:"noopener noreferrer"}},[e._v("Fehler beim kompilieren"),n("OutboundLink")],1),e._v("\nweshalb ich die "),n("code",[e._v("BME280Spi*.o")]),e._v(" Dateien gel√∂scht habe.")]),e._v(" "),n("h2",{attrs:{id:"betrieb"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#betrieb"}},[e._v("#")]),e._v(" Betrieb")]),e._v(" "),n("p",[e._v("Im Sketch ist ein "),n("code",[e._v("ConfigButton")]),e._v(" definiert weshalb der neue Aktor per kurzem Tastendruck in den Anlernmodus gebracht werden kann.")]),e._v(" "),n("p",[n("img",{attrs:{src:r(546),alt:"CCU Darstellung"}})]),e._v(" "),n("h2",{attrs:{id:"weiteres"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#weiteres"}},[e._v("#")]),e._v(" Weiteres")]),e._v(" "),n("ul",[n("li",[e._v("Der BME280 ist etwas tr√§ge, gib ihm ein paar (mehr) Minuten damit sich die Temperatur einpegelt.")]),e._v(" "),n("li",[e._v("Das Projekt ist auch recht sch√∂n auf "),n("a",{attrs:{href:"https://technikkram.net/2018/05/homematic-diy-projekt-thermometer-und-hydrometer-fertige-platine-im-eigenbau",target:"_blank",rel:"noopener noreferrer"}},[e._v("technikkram.net"),n("OutboundLink")],1),e._v(" beschrieben. Leider fehlt hier die Babbling Idiot Protection.")]),e._v(" "),n("li",[e._v("Solltest du Anmerkungen oder Probleme mit dem Nachbau haben, lass es "),n("a",{attrs:{href:"mailto:asppc@psi.cx"}},[e._v("mich")]),e._v(" bitte wissen damit dieses Projekt verbessert werden kann.")])])])}),[],!1,null,null,null);t.default=a.exports},542:function(e,t,r){e.exports=r.p+"assets/img/pcb-assembled.5dc61a8b.jpg"},543:function(e,t,r){e.exports=r.p+"assets/img/BME280-ldo-removed.b18b9191.jpg"},544:function(e,t,r){e.exports=r.p+"assets/img/verdrahtung.597fccd2.png"},545:function(e,t,r){e.exports=r.p+"assets/img/case-jan.1b506307.jpg"},546:function(e,t,r){e.exports=r.p+"assets/img/ccu-sensor.6aae40b8.png"}}]);