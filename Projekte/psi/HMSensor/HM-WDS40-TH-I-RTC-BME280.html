<!DOCTYPE html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HM-WDS40-TH-I-RTC-BME280 | AskSin++</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.jpg">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/logo.jpg">
    <link rel="mask-icon" href="/logo.jpg" color="#00A4A6">
    <script>
      var _paq = [
        ["disableCookies"],
        ['setTrackerUrl', 'https://mt.psi.cx/t.php'],
        ['setSiteId', '2'],
      ];
      (function() {
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src='https://mt.psi.cx/t.js'; s.parentNode.insertBefore(g,s);
        
        function tl(ev) {
          var path = event.path || (event.composedPath && event.composedPath());
          if(!path) return;
          var target = path.find(function(el) { return el.tagName === 'A'; });
          if(!target) return;
          if(!target.href || target.href.startsWith(location.origin)) return;
          _paq.push(['trackLink', target.href, 'link']);
        }
        window.addEventListener('click', tl);
      })();
    </script>
    <meta name="description" content="">
    <meta name="theme-color" content="#00A4A6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/logo.jpg">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.a4375087.css" as="style"><link rel="preload" href="/assets/js/app.3be094a9.js" as="script"><link rel="preload" href="/assets/js/11.16f3b012.js" as="script"><link rel="preload" href="/assets/js/1.793f8b33.js" as="script"><link rel="preload" href="/assets/js/17.150b7210.js" as="script"><link rel="prefetch" href="/assets/js/10.15945b40.js"><link rel="prefetch" href="/assets/js/100.3aa03b02.js"><link rel="prefetch" href="/assets/js/101.990fba96.js"><link rel="prefetch" href="/assets/js/102.d44dca7c.js"><link rel="prefetch" href="/assets/js/103.745068a5.js"><link rel="prefetch" href="/assets/js/104.1347f3b6.js"><link rel="prefetch" href="/assets/js/105.8a8179ff.js"><link rel="prefetch" href="/assets/js/106.a5b81e02.js"><link rel="prefetch" href="/assets/js/107.ee39e5e2.js"><link rel="prefetch" href="/assets/js/108.8e3d8a64.js"><link rel="prefetch" href="/assets/js/109.016d22f5.js"><link rel="prefetch" href="/assets/js/110.03b7a072.js"><link rel="prefetch" href="/assets/js/12.eec6e776.js"><link rel="prefetch" href="/assets/js/13.4188cc38.js"><link rel="prefetch" href="/assets/js/14.0c331f41.js"><link rel="prefetch" href="/assets/js/15.a1873691.js"><link rel="prefetch" href="/assets/js/16.4fc947be.js"><link rel="prefetch" href="/assets/js/18.4221f3f3.js"><link rel="prefetch" href="/assets/js/19.f794bba2.js"><link rel="prefetch" href="/assets/js/20.743cc3d2.js"><link rel="prefetch" href="/assets/js/21.d1906970.js"><link rel="prefetch" href="/assets/js/22.99a8175e.js"><link rel="prefetch" href="/assets/js/23.505140ac.js"><link rel="prefetch" href="/assets/js/24.6ef9f2e0.js"><link rel="prefetch" href="/assets/js/25.9da025ea.js"><link rel="prefetch" href="/assets/js/26.25293156.js"><link rel="prefetch" href="/assets/js/27.f0988e0b.js"><link rel="prefetch" href="/assets/js/28.064f272e.js"><link rel="prefetch" href="/assets/js/29.2d16f96e.js"><link rel="prefetch" href="/assets/js/30.98333d0d.js"><link rel="prefetch" href="/assets/js/31.7d1c938b.js"><link rel="prefetch" href="/assets/js/32.6adb4147.js"><link rel="prefetch" href="/assets/js/33.75edefe8.js"><link rel="prefetch" href="/assets/js/34.d3a2d88e.js"><link rel="prefetch" href="/assets/js/35.d65d3e50.js"><link rel="prefetch" href="/assets/js/36.0f60ccdb.js"><link rel="prefetch" href="/assets/js/37.54b27645.js"><link rel="prefetch" href="/assets/js/38.768be915.js"><link rel="prefetch" href="/assets/js/39.a66116f5.js"><link rel="prefetch" href="/assets/js/4.7638fd99.js"><link rel="prefetch" href="/assets/js/40.a103c6aa.js"><link rel="prefetch" href="/assets/js/41.95e5166e.js"><link rel="prefetch" href="/assets/js/42.a53b9459.js"><link rel="prefetch" href="/assets/js/43.16852653.js"><link rel="prefetch" href="/assets/js/44.a59aad65.js"><link rel="prefetch" href="/assets/js/45.a0f01004.js"><link rel="prefetch" href="/assets/js/46.789d3d11.js"><link rel="prefetch" href="/assets/js/47.935e673f.js"><link rel="prefetch" href="/assets/js/48.ac4b6054.js"><link rel="prefetch" href="/assets/js/49.57d8e01b.js"><link rel="prefetch" href="/assets/js/5.9bbb6a4a.js"><link rel="prefetch" href="/assets/js/50.6d03abc3.js"><link rel="prefetch" href="/assets/js/51.8afea20c.js"><link rel="prefetch" href="/assets/js/52.35bafb11.js"><link rel="prefetch" href="/assets/js/53.27edacbf.js"><link rel="prefetch" href="/assets/js/54.eaab6577.js"><link rel="prefetch" href="/assets/js/55.ef677439.js"><link rel="prefetch" href="/assets/js/56.90f798cb.js"><link rel="prefetch" href="/assets/js/57.bef0e21b.js"><link rel="prefetch" href="/assets/js/58.2ea3ef43.js"><link rel="prefetch" href="/assets/js/59.d44b0297.js"><link rel="prefetch" href="/assets/js/6.65910234.js"><link rel="prefetch" href="/assets/js/60.0c3ec0d3.js"><link rel="prefetch" href="/assets/js/61.fb4440e4.js"><link rel="prefetch" href="/assets/js/62.c6470576.js"><link rel="prefetch" href="/assets/js/63.0e7d6519.js"><link rel="prefetch" href="/assets/js/64.f8f2498f.js"><link rel="prefetch" href="/assets/js/65.1764d8cc.js"><link rel="prefetch" href="/assets/js/66.a1a93fe2.js"><link rel="prefetch" href="/assets/js/67.0d4a47c7.js"><link rel="prefetch" href="/assets/js/68.b670a088.js"><link rel="prefetch" href="/assets/js/69.23364f17.js"><link rel="prefetch" href="/assets/js/7.dba61471.js"><link rel="prefetch" href="/assets/js/70.16bd4029.js"><link rel="prefetch" href="/assets/js/71.29361d45.js"><link rel="prefetch" href="/assets/js/72.c7d2349f.js"><link rel="prefetch" href="/assets/js/73.35dff72a.js"><link rel="prefetch" href="/assets/js/74.99807205.js"><link rel="prefetch" href="/assets/js/75.281b12b6.js"><link rel="prefetch" href="/assets/js/76.b3b24b99.js"><link rel="prefetch" href="/assets/js/77.362dd511.js"><link rel="prefetch" href="/assets/js/78.a4cd5278.js"><link rel="prefetch" href="/assets/js/79.ee730d87.js"><link rel="prefetch" href="/assets/js/8.a80c8ac2.js"><link rel="prefetch" href="/assets/js/80.1d2ee890.js"><link rel="prefetch" href="/assets/js/81.37068ffb.js"><link rel="prefetch" href="/assets/js/82.c670ecbb.js"><link rel="prefetch" href="/assets/js/83.312e1daf.js"><link rel="prefetch" href="/assets/js/84.9b480d4d.js"><link rel="prefetch" href="/assets/js/85.f90426ac.js"><link rel="prefetch" href="/assets/js/86.ababdeb6.js"><link rel="prefetch" href="/assets/js/87.b3b7fb7e.js"><link rel="prefetch" href="/assets/js/88.cf387ef6.js"><link rel="prefetch" href="/assets/js/89.c59d23bc.js"><link rel="prefetch" href="/assets/js/9.919fb2d9.js"><link rel="prefetch" href="/assets/js/90.1dad9042.js"><link rel="prefetch" href="/assets/js/91.fc6aba30.js"><link rel="prefetch" href="/assets/js/92.e26ec882.js"><link rel="prefetch" href="/assets/js/93.1f03db06.js"><link rel="prefetch" href="/assets/js/94.7956f5bb.js"><link rel="prefetch" href="/assets/js/95.cbc14d2c.js"><link rel="prefetch" href="/assets/js/96.54c7d530.js"><link rel="prefetch" href="/assets/js/97.8cd0d856.js"><link rel="prefetch" href="/assets/js/98.c3abcf64.js"><link rel="prefetch" href="/assets/js/99.935c998e.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.35c9692c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a4375087.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="AskSin++" class="logo"> <span class="site-name can-hide">AskSin++</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Grundlagen/" class="nav-link">
  Grundlagen
</a></div><div class="nav-item"><a href="/Projekte/" class="nav-link router-link-active">
  Projekte
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Material" class="dropdown-title"><span class="title">Material</span> <span class="arrow down"></span></button> <button type="button" aria-label="Material" class="mobile-dropdown-title"><span class="title">Material</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Sketche/" class="nav-link">
  Sketche
</a></li><li class="dropdown-item"><!----> <a href="/Platinen/" class="nav-link">
  Platinen
</a></li><li class="dropdown-item"><!----> <a href="/Gehaeuse/" class="nav-link">
  Gehäuse
</a></li><li class="dropdown-item"><!----> <a href="/Projekte/Umbau.html" class="nav-link">
  Umbauten
</a></li><li class="dropdown-item"><!----> <a href="/rftypes/" class="nav-link">
  RF-Types
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://homematic-forum.de/forum/viewforum.php?f=76" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/groups/Homematic.Freunde" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook Gruppe
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/homematicuser/shared_invite/enQtNjAzMDA0MjM3NzY1LTY2MzkzODUzODIyNGQ0YmVmZTJkNDRjN2U0MWQxNWRmNTQ0NjI4MjMyNjZjOWFmNjkyNjNiMTcwZGZmYWNlNjQ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <div class="theme-toggler" data-v-00ea32ee><a data-v-00ea32ee><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon" data-v-00ea32ee><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-v-00ea32ee></path></svg></a></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Grundlagen/" class="nav-link">
  Grundlagen
</a></div><div class="nav-item"><a href="/Projekte/" class="nav-link router-link-active">
  Projekte
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Material" class="dropdown-title"><span class="title">Material</span> <span class="arrow down"></span></button> <button type="button" aria-label="Material" class="mobile-dropdown-title"><span class="title">Material</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Sketche/" class="nav-link">
  Sketche
</a></li><li class="dropdown-item"><!----> <a href="/Platinen/" class="nav-link">
  Platinen
</a></li><li class="dropdown-item"><!----> <a href="/Gehaeuse/" class="nav-link">
  Gehäuse
</a></li><li class="dropdown-item"><!----> <a href="/Projekte/Umbau.html" class="nav-link">
  Umbauten
</a></li><li class="dropdown-item"><!----> <a href="/rftypes/" class="nav-link">
  RF-Types
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://homematic-forum.de/forum/viewforum.php?f=76" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/groups/Homematic.Freunde" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook Gruppe
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/homematicuser/shared_invite/enQtNjAzMDA0MjM3NzY1LTY2MzkzODUzODIyNGQ0YmVmZTJkNDRjN2U0MWQxNWRmNTQ0NjI4MjMyNjZjOWFmNjkyNjNiMTcwZGZmYWNlNjQ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Projekte/psi/HMSensor/" aria-current="page" class="sidebar-link">HMSensor</a></li><li><a href="/Projekte/psi/HMSensor/HM-SEC-RHS.html" class="sidebar-link">HM-Sec-RHS</a></li><li><a href="/Projekte/psi/HMSensor/HM-WDS40-TH-I-RTC-BME280.html" aria-current="page" class="active sidebar-link">HM-WDS40-TH-I-RTC-BME280</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Projekte/psi/HMSensor/HM-WDS40-TH-I-RTC-BME280.html#aufbau" class="sidebar-link">Aufbau</a></li><li class="sidebar-sub-header"><a href="/Projekte/psi/HMSensor/HM-WDS40-TH-I-RTC-BME280.html#sketch" class="sidebar-link">Sketch</a></li></ul></li></ul> </aside> <main class="page"> <div class="content__default"><h1 id="hm-wds40-th-i-rtc-bme280"><a href="#hm-wds40-th-i-rtc-bme280" class="header-anchor">#</a> HM-WDS40-TH-I-RTC-BME280</h1> <p>Temperatursensor <em>Bosch BME280</em> an der HMSensor.</p> <p>Die HMSensor Platine wird <strong>mit 32kHz Oszillator</strong> bestückt um entsprechend exakte Timings
zu erreichen womit eine Direktverknüpfung mit einem HM-CC-RT-DN Heizkörperthermostat möglich wird.</p> <p><img src="/assets/img/HM-WDS40-TH-I-RTC-BME280.ec15be20.jpg" alt="BME280 an HMSensor"></p> <h2 id="aufbau"><a href="#aufbau" class="header-anchor">#</a> Aufbau</h2> <h3 id="hmsensor"><a href="#hmsensor" class="header-anchor">#</a> HMSensor</h3> <p>Auf der HMSensor Platine kann die grüne LED <code>D2</code> inkl. Vorwiderstand <code>R3</code> unbestückt bleiben da diese
keine Verwendung finden.</p> <h3 id="anschluss-des-bme280"><a href="#anschluss-des-bme280" class="header-anchor">#</a> Anschluss des BME280</h3> <p>Hier wird das I2C Breakout des BME280 verwendet. Um Strom zu sparen wird der LDO entfernt.</p> <p><img src="/assets/img/BME280-ldo-removed.b18b9191.jpg" alt="BME280 I2C ohne LDO"></p> <p>Anschluss:</p> <table><thead><tr><th>HMSensor</th> <th>BME280</th> <th></th></tr></thead> <tbody><tr><td>VCC</td> <td>VIN</td> <td></td></tr> <tr><td>GND</td> <td>GND</td> <td></td></tr> <tr><td>A5</td> <td>SCL</td> <td>I2C Takt</td></tr> <tr><td>A4</td> <td>SDA</td> <td>I2C Daten</td></tr></tbody></table> <h2 id="sketch"><a href="#sketch" class="header-anchor">#</a> Sketch</h2> <p>Zuerst sollte man über
<a href="/Grundlagen/FAQ/Fehlerhafte_CC1101.html#ermittlung-der-cc1101-frequenz">FreqTest</a>
die optimale CC1101 Frequenz ermittelen.</p> <p>Als Sketch kommt
<a href="https://raw.githubusercontent.com/pa-pa/AskSinPP/master/examples/HM-WDS40-TH-I/HM-WDS40-TH-I.ino" target="_blank" rel="noopener noreferrer">HM-WDS40-TH-I.ino<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
zum Einsatz. Über verschiedene <code>#define</code> Direktiven können die entsprechenden Einstellungen gesetzt werden,
je nach Sensor-Typ und RTC. Ist ein 32kHz Quarz verbaut sowie der BME280 sind folgende Direktiven einzukommentieren:</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// === Choose one Temperture/Humidity sensor ===</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">SENSOR_BME280</span></span>
<span class="token comment">//#define SENSOR_DHT22</span>
<span class="token comment">//#define SENSOR_SHT10</span>
<span class="token comment">//#define SENSOR_SHT31</span>
<span class="token comment">//#define SENSOR_SI7021</span>

<span class="token comment">// === Define the clock ===</span>
<span class="token comment">// Remove comment if you have an external oscillator like a 32kHz crystal</span>
<span class="token comment">// Necessary for exact timings if you want to pair with a HM-CC-RT-DN</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">USE_RTC</span></span>

<span class="token comment">// === Battery measurement ===</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">BAT_VOLT_LOW        <span class="token number">20</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">BAT_VOLT_CRITICAL   <span class="token number">13</span></span></span>
<span class="token comment">// Internal measuring: AVR voltage</span>
<span class="token comment">//#define BAT_SENSOR BatterySensor</span>
<span class="token comment">// External measuring: Potential devider on GPIO; required if a StepUp converter is used</span>
<span class="token comment">// one can consider lower thresholds (low=20; cri=13) </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">BAT_SENSOR BatterySensorUni<span class="token operator">&lt;</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token operator">&gt;</span> </span><span class="token comment">// &lt;SensPIN, ActivationPIN, RefVcc&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>Wie immer dran denken die <a href="/Grundlagen/02_software.html#sketch-anpassen-und-flashen">Serial und ID zu ändern</a>.</p> <p>Zusätzlich zu den üblichen Bibliotheken (AskSinPP, EnableInterrupt, Low-Power) benötigt man noch die
<a href="https://github.com/finitespace/BME280" target="_blank" rel="noopener noreferrer">Lib für den BME280<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
Allerdings hatte ich hier noch einen <a href="https://github.com/finitespace/BME280/issues/17" target="_blank" rel="noopener noreferrer">Fehler beim kompilieren<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
weshalb ich die <code>BME280Spi*.o</code> Dateien gelöscht habe.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Will man wissen ob die Direktverknüpfung mit dem Heizkörperthermostat funktioniert
legt man den Sensor kurzerhand in den Kühlschrank. Die CCU sollte nach ein paar Minuten
die Temperatur vom WDS40 beim HM-CC-RT-DN anzeigen und das Ventil sollte öffnen.</p></div> <p>Beispiel Debugausgabe wenn alles funktioniert hat:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Initialisierung</span>
AskSin++ V4.1.1 <span class="token punctuation">(</span>Nov <span class="token number">18</span> <span class="token number">2019</span> <span class="token number">16</span>:52:06<span class="token punctuation">)</span>
Address Space: <span class="token number">32</span> - <span class="token number">73</span>
CC init1
CC Version: 04
 - ready
<span class="token comment"># CC1101 Frequenzanpassung, ermittelt durch FreqTest</span>
Config Freq: 0x2165CA
<span class="token comment"># Spannungsmessung der Batterie in mV. (iVcc wäre eine interne Messung und unbrauchbar bei StepUp Wandlern)</span>
eVcc: <span class="token number">1720</span>
ID: <span class="token number">345679</span>  Serial: papa111111
Measure<span class="token punctuation">..</span>.
T: <span class="token number">234</span>  H: <span class="token number">35</span>
<span class="token operator">&lt;</span>- 0C 01 <span class="token number">84</span> <span class="token number">70</span> <span class="token number">345679</span> 000000 <span class="token number">80</span> EA <span class="token number">23</span>  - <span class="token number">352</span>
<span class="token number">149.500</span> <span class="token comment"># Next send slot</span>
Measure<span class="token punctuation">..</span>.
T: <span class="token number">234</span>  H: <span class="token number">35</span>
<span class="token operator">&lt;</span>- 0C 02 <span class="token number">84</span> <span class="token number">70</span> <span class="token number">345679</span> 000000 <span class="token number">80</span> EA <span class="token number">23</span>  - <span class="token number">413</span>
<span class="token number">135.0</span>
Measure<span class="token punctuation">..</span>.
T: <span class="token number">232</span>  H: <span class="token number">36</span>
<span class="token operator">&lt;</span>- 0C 03 <span class="token number">84</span> <span class="token number">70</span> <span class="token number">345679</span> 000000 <span class="token number">80</span> E8 <span class="token number">24</span>  - <span class="token number">475</span>
<span class="token number">120.500</span>
Measure<span class="token punctuation">..</span>.
T: <span class="token number">231</span>  H: <span class="token number">35</span>
<span class="token operator">&lt;</span>- 0C 04 <span class="token number">84</span> <span class="token number">70</span> <span class="token number">345679</span> 000000 <span class="token number">80</span> E7 <span class="token number">23</span>  - <span class="token number">534</span>
<span class="token number">170.0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/AskSinPP/asksinpp-web/edit/master/Projekte/psi/HMSensor/HM-WDS40-TH-I-RTC-BME280.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Letztes Update:</span> <span class="time">31.1.2021, 18:46:21</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Projekte/psi/HMSensor/HM-SEC-RHS.html" class="prev">
        HM-Sec-RHS
      </a></span> <!----></p></div> <div class="page_bottom"><a href="/impressum.html">Impressum</a></div></main></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.3be094a9.js" defer></script><script src="/assets/js/11.16f3b012.js" defer></script><script src="/assets/js/1.793f8b33.js" defer></script><script src="/assets/js/17.150b7210.js" defer></script>
  </body>
</html>
